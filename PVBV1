--// JoshhubScript Control Panel (Full Features + Webhook AutoAccept)
--// Owner: JoshroxasScript

--// Services
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local HttpService = game:GetService("HttpService")

--// Webhook (palitan mo)
local WebhookURL = "https://discord.com/api/webhooks/xxxx/xxxx"

local function sendWebhook(content)
	if not WebhookURL or WebhookURL == "" then return end
	local data = {
		["username"] = "üéÅ Joshhub AutoAccept",
		["avatar_url"] = "https://i.imgur.com/3GKwK6X.png",
		["content"] = content
	}
	pcall(function()
		request({
			Url = WebhookURL,
			Method = "POST",
			Headers = {["Content-Type"] = "application/json"},
			Body = HttpService:JSONEncode(data)
		})
	end)
end

--// Screen GUI
local ScreenGui = Instance.new("ScreenGui")
ScreenGui.Name = "JoshhubPanel"
ScreenGui.Parent = game:GetService("CoreGui")

--// Main Frame
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 230, 0, 300)
MainFrame.Position = UDim2.new(0.5, -115, 0.1, 0) -- CENTER TOP
MainFrame.BackgroundColor3 = Color3.fromRGB(255, 150, 80)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui
Instance.new("UICorner", MainFrame).CornerRadius = UDim.new(0, 12)

local UIGradient = Instance.new("UIGradient", MainFrame)
UIGradient.Color = ColorSequence.new{
	ColorSequenceKeypoint.new(0, Color3.fromRGB(255, 100, 50)),
	ColorSequenceKeypoint.new(1, Color3.fromRGB(60, 20, 20))
}
UIGradient.Rotation = 90

local Title = Instance.new("TextLabel")
Title.Size = UDim2.new(1, -35, 0, 35)
Title.Position = UDim2.new(0, 8, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "üî• Joshhub Control"
Title.TextColor3 = Color3.fromRGB(255, 220, 150)
Title.Font = Enum.Font.Fantasy
Title.TextSize = 17
Title.TextXAlignment = Enum.TextXAlignment.Left
Title.Parent = MainFrame

--// Minimize Button
local MinBtn = Instance.new("TextButton")
MinBtn.Size = UDim2.new(0, 28, 0, 28)
MinBtn.Position = UDim2.new(1, -32, 0, 4)
MinBtn.BackgroundColor3 = Color3.fromRGB(255, 150, 80)
MinBtn.TextColor3 = Color3.fromRGB(255, 220, 150)
MinBtn.Text = "-"
MinBtn.Font = Enum.Font.SourceSansBold
MinBtn.TextSize = 20
MinBtn.Parent = MainFrame
Instance.new("UICorner", MinBtn).CornerRadius = UDim.new(0, 6)

local Minimized = false
MinBtn.MouseButton1Click:Connect(function()
	Minimized = not Minimized
	for _, v in pairs(MainFrame:GetChildren()) do
		if v ~= Title and v ~= MinBtn and not v:IsA("UICorner") and not v:IsA("UIGradient") then
			v.Visible = not Minimized
		end
	end
	MainFrame.Size = Minimized and UDim2.new(0, 230, 0, 40) or UDim2.new(0, 230, 0, 300)
	MinBtn.Text = Minimized and "+" or "-"
end)

--// Auto Accept Toggle
local SwitchLabel = Instance.new("TextLabel")
SwitchLabel.Size = UDim2.new(0, 130, 0, 25)
SwitchLabel.Position = UDim2.new(0, 10, 0, 45)
SwitchLabel.BackgroundTransparency = 1
SwitchLabel.Text = "Auto Accept Gift"
SwitchLabel.TextColor3 = Color3.fromRGB(255, 150, 80)
SwitchLabel.TextXAlignment = Enum.TextXAlignment.Left
SwitchLabel.Font = Enum.Font.SourceSansBold
SwitchLabel.TextSize = 12
SwitchLabel.Parent = MainFrame

local SwitchFrame = Instance.new("TextButton")
SwitchFrame.Size = UDim2.new(0, 45, 0, 22)
SwitchFrame.Position = UDim2.new(0, 150, 0, 47)
SwitchFrame.BackgroundColor3 = Color3.fromRGB(80, 40, 40)
SwitchFrame.Text = ""
SwitchFrame.Parent = MainFrame
Instance.new("UICorner", SwitchFrame).CornerRadius = UDim.new(0, 12)

local Knob = Instance.new("Frame")
Knob.Size = UDim2.new(0, 20, 0, 20)
Knob.Position = UDim2.new(0, 1, 0, 1)
Knob.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
Knob.Parent = SwitchFrame
Instance.new("UICorner", Knob).CornerRadius = UDim.new(0, 12)

getgenv().AutoAccept = false
local function ToggleSwitch()
	getgenv().AutoAccept = not getgenv().AutoAccept
	if getgenv().AutoAccept then
		Knob:TweenPosition(UDim2.new(0, 23, 0, 1), "Out", "Sine", 0.2, true)
		Knob.BackgroundColor3 = Color3.fromRGB(50, 200, 50)
	else
		Knob:TweenPosition(UDim2.new(0, 1, 0, 1), "Out", "Sine", 0.2, true)
		Knob.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
	end
end
SwitchFrame.MouseButton1Click:Connect(ToggleSwitch)

--// Leave Button
local LeaveButton = Instance.new("TextButton")
LeaveButton.Size = UDim2.new(1, -20, 0, 28)
LeaveButton.Position = UDim2.new(0, 10, 1, -32)
LeaveButton.BackgroundColor3 = Color3.fromRGB(200, 50, 50)
LeaveButton.TextColor3 = Color3.fromRGB(255, 255, 255)
LeaveButton.Text = "‚ùå LEAVE KANA"
LeaveButton.Font = Enum.Font.SourceSansBold
LeaveButton.TextSize = 14
LeaveButton.Parent = MainFrame
Instance.new("UICorner", LeaveButton).CornerRadius = UDim.new(0, 6)
LeaveButton.MouseButton1Click:Connect(function()
	LocalPlayer:Kick("ü§£ GAGO CONGRATS KUNG NAKANAKAW KA!")
end)

--// Auto Accept Gift Handler (Simplified ‚Äì No Counter / Blink)
task.spawn(function()
	local Remotes = ReplicatedStorage:WaitForChild("Remotes", 10)
	if not Remotes then
		warn("[JoshHub] ‚ùå 'Remotes' folder not found!")
		return
	end

	local AcceptGift = Remotes:WaitForChild("AcceptGift", 10)
	if not AcceptGift then
		warn("[JoshHub] ‚ùå 'AcceptGift' RemoteEvent not found!")
		return
	end

	local Accepted = {}

	for _, remote in ipairs(ReplicatedStorage:GetDescendants()) do
		if remote:IsA("RemoteEvent") and string.find(string.lower(remote.Name), "gift") then
			remote.OnClientEvent:Connect(function(giftId)
				if getgenv().AutoAccept and not Accepted[giftId] then
					Accepted[giftId] = true
					task.wait(0.3)

					-- üî∏ Simplified FireServer
					pcall(function()
						AcceptGift:FireServer({ ID = giftId })
					end)

					-- üî∏ Webhook notification
					local msg = string.format(
						"üéÅ Auto Accepted Gift!\nüÜî GiftID: `%s`\nüìå Receiver: `%s`",
						tostring(giftId), LocalPlayer.Name
					)
					sendWebhook(msg)
				end
			end)
		end
	end
end) 
--// End of Script
